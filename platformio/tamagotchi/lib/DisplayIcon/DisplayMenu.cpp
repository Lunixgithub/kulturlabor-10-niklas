#include <DisplayMenu.hpp>
#include <Adafruit_SSD1306.h>
#include <Adafruit_GFX.h>

#define LOGO_WIDTH  16
#define LOGO_HEIGHT 16

void DisplayMenu::onMenuPositionChanged() {
    
}

void DisplayMenu::drawCurrentStats() {

}

void DisplayMenu::onButtonAPressed() {

}

void DisplayMenu::onButtonBPressed() {

}

void DisplayMenu::onButtonCPressed() {

}

void DisplayMenu::render(Adafruit_SSD1306 &display) {
static const unsigned char PROGMEM bitmap[] = {
	// 'image, 128x16px
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 
	0x80, 0x01, 0xa0, 0x05, 0x80, 0x01, 0x80, 0x01, 0x80, 0x01, 0x80, 0x01, 0x80, 0x01, 0x80, 0x01, 
	0xaa, 0x61, 0x93, 0xc9, 0x8c, 0x01, 0x80, 0xa1, 0x80, 0x01, 0x80, 0x01, 0x80, 0x09, 0x80, 0x01, 
	0xaa, 0x61, 0x84, 0x21, 0x9e, 0x01, 0x80, 0x51, 0x80, 0x01, 0x87, 0xe1, 0x87, 0x85, 0x80, 0x01, 
	0xaa, 0x71, 0xa8, 0x15, 0x9e, 0x1d, 0x80, 0x69, 0x80, 0x01, 0x9c, 0x39, 0x9c, 0xd1, 0x88, 0x01, 
	0xbe, 0x71, 0x89, 0x91, 0x8c, 0x3d, 0x80, 0xb5, 0x83, 0x01, 0xa2, 0x45, 0x90, 0x49, 0x81, 0x01, 
	0x9c, 0x71, 0x8a, 0x51, 0x80, 0x7d, 0x81, 0x19, 0x8c, 0x81, 0xa8, 0x15, 0xb0, 0x85, 0xa0, 0x39, 
	0x9c, 0x79, 0xa9, 0x95, 0x80, 0xf9, 0x82, 0x25, 0x9c, 0x81, 0xa0, 0x05, 0xa1, 0x15, 0xa0, 0x0d, 
	0x9c, 0x79, 0x8d, 0xb1, 0x81, 0xf1, 0x87, 0x41, 0x84, 0xe5, 0xa6, 0x05, 0xa2, 0x05, 0x90, 0x05, 
	0x9c, 0x71, 0x87, 0xe1, 0x83, 0xe1, 0x87, 0x81, 0x8c, 0x1d, 0xa7, 0x05, 0xb1, 0xe1, 0x8e, 0x05, 
	0x9c, 0x41, 0x90, 0x09, 0x83, 0xc1, 0x87, 0x01, 0x98, 0x05, 0x93, 0x89, 0x90, 0x21, 0x80, 0x41, 
	0x9c, 0x41, 0xa3, 0xc5, 0x8f, 0x81, 0x88, 0x01, 0x98, 0x0d, 0x91, 0x89, 0x9c, 0xe1, 0x80, 0x01, 
	0x9c, 0x41, 0x80, 0x01, 0x8e, 0x01, 0x90, 0x01, 0x8f, 0xf9, 0x90, 0x09, 0x87, 0x81, 0x80, 0x11, 
	0x80, 0x01, 0x83, 0xc1, 0x86, 0x01, 0x80, 0x01, 0x80, 0x01, 0x8f, 0xf1, 0x80, 0x01, 0x80, 0x01, 
	0x80, 0x01, 0x80, 0x01, 0x80, 0x01, 0x80, 0x01, 0x80, 0x01, 0x80, 0x01, 0x80, 0x01, 0x80, 0x01, 
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff
};

    display.clearDisplay();

    display.drawBitmap(
        (display.width()  - 128 ) / 2,
        (display.height() - 16) / 2,
        bitmap, 128, LOGO_HEIGHT, SSD1306_INVERSE);
    display.display();
    delay(3000);
}


void DisplayMenu::testdrawbitmap(Adafruit_SSD1306 &display) {
    static const unsigned char PROGMEM logo_bmp[] =
    { 
    0b00000000, 0b11000000,
    0b00000001, 0b11000000,
    0b00000001, 0b11000000,
    0b00000011, 0b11100000,
    0b11110011, 0b11100000,
    0b11111110, 0b11111000,
    0b01111110, 0b11111111,
    0b00110011, 0b10011111,
    0b00011111, 0b11111100,
    0b00001101, 0b01110000,
    0b00011011, 0b10100000,
    0b00111111, 0b11100000,
    0b00111111, 0b11110000,
    0b01111100, 0b11110000,
    0b01110000, 0b01110000,
    0b00000000, 0b00110000 
    };

    display.clearDisplay();

    display.drawBitmap(
        (display.width()  - LOGO_WIDTH ) / 2,
        (display.height() - LOGO_HEIGHT) / 2,
        logo_bmp, LOGO_WIDTH, LOGO_HEIGHT, 1);
    display.display();
    delay(1000);
}